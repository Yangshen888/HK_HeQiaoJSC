import invoker,{BRIDGE_ERROR_CODE,CONTINUOUS_EVENT_LIST}from"./invoker";function startTraceReportHandler(r,e){var t=e.resolve,o=e.reject,n=e.context,a=invoker.registerEvent(CONTINUOUS_EVENT_LIST.UPDATE_TRACE,(function(e){var t=e.data;t.errorCode&&t.errorCode!==BRIDGE_ERROR_CODE.SUCCESS?r.onFail&&r.onFail(t):r.onSuccess&&r.onSuccess(t.result||t)}));n&&n.call("startTraceReport",r,(function(e){invoker.registerContinuesEvent(r.traceId,a),invoker.handleBridgeResponse(e,t,o)}))}invoker.registerAPI("startTraceReport",{mobile:startTraceReportHandler}),startTraceReport.version={android:"1.3.4",ios:"1.3.4"};export default function startTraceReport(r){return invoker.invoke("startTraceReport",r)}