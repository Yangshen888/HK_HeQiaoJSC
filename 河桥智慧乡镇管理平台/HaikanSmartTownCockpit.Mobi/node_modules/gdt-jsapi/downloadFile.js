"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports.default=void 0;var _invoker=_interopRequireDefault(require("./invoker")),TASK_COMPLETE=1;function downloadFile(e){return _invoker.default.invoke("downloadFile",e)}_invoker.default.registerAPI("downloadFile",{mini:function(e,i){var o=i.resolve,t=i.reject,n=i.context;n&&n.call("downloadFile",e,(function(e){e.error?t(e):o(e)}))},pc:function(e,i){window.dingtalk.platform.invokeAPI(i.msgId,"biz.util.downloadFile",e),_invoker.default.registerContinuesEvent(i.msgId,(function(o,t){"im.fileTask.addNewTask"===o&&(_invoker.default.removeContinuesEvent(i.msgId),_invoker.default.registerContinuesEvent(t.taskId,(function(i,o){if("im.fileTask.updateTask"===i){var t=o.doneSize,n=o.fileName,r=o.filePath,l=o.fileSize,a=o.speed;e.onProgress({doneSize:t,fileName:n,filePath:r,fileSize:l,speed:a}),o.status===TASK_COMPLETE&&_invoker.default.removeContinuesEvent(o.taskId)}})))}))}}),downloadFile.version={pc:"1.3.5"};var _default=downloadFile;exports.default=_default,module.exports=exports.default,module.exports.default=exports.default;